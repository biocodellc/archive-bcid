#curl Examples for use in calling BCID services

This page explains how to call BCID services using curl  --  For a list of BCID service call options see the [http://biscicol.org/bcid/rest/bcid.wadl Service Descriptions].

= Public Content =

Attempt a simple call to resolve an ARK (return HTML)

  * curl -L http://biscicol.org/id/ark:/21547/R2

Resolve an ARK, returning RDF/XML, for a group + suffix:
  * curl -L  -H "Accept: application/rdf+xml" http://biscicol.org/id/ark:/21547/R2MBIO56


= Secure Content =

First thing is to authenticate and set cookies.  Make sure to do this in a directory where you have write access:

  * curl --data "username=USER&password=PSWD" http://biscicol.org/id/loginService --location --cookie-jar cookies.txt

Then, call the service in question, for example, to list datasets associated with the account you authenticated as:
 
  * curl http://biscicol.org/id/groupService/list --cookie cookies.txt

If this is a new account without any datasets associated with it, if this request is successful, you will see the result:

{"0":"Create new group"}]

= Using the Creator =

The following is an example of how to create a new data group and register local IDs with BCID.  For now, we specify resourceType = 3 (following will be an example of how to choose a resource type).  datasetList = 0 means that we want the system to create a new dataset for us (if we supply a number here, we attach these identifiers to a particular dataset that we own).  This assumes also that we have local identifiers, on separate lines in a textfile in the local directory called (testfile.txt).

  * curl -d  "title=This is a test&resourceTypesMinusDataset=3&suffixPassThrough=true" http://biscicol.org/id/groupService --cookie cookies.txt