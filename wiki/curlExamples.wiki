This page explains how to call BCID services using curl  --  For a list of BCID service call options see the [http://biscicol.org/bcid/rest/bcid.wadl Service Descriptions].

= Public Content =

Attempt a simple call to resolve an ARK:

  * curl http://biscicol.org/bcid/rest/resolverService/ark:/87286/C2

= Secure Content =

First thing is to authenticate and set cookies.  Make sure to do this in a directory where you have write access:

  * curl --data "j_username=USER&j_password=PSWD" http://biscicol.org/bcid/j_spring_security_check --location --cookie-jar cookies.txt

Then, call the service in question, for example, to list datasets associated with the account you authenticated as:
 
  * curl http://biscicol.org/bcid/rest/datasetService/list --cookie cookies.txt

If this is a new account without any datasets associated with it, if this request is successful, you will see the result:

{"0":"Create new group"}]

= Using the Creator =

The following is an example of how to create a new data group and register local IDs with BCID.  For now, we specify resourceType = 3 (following will be an example of how to choose a resource type).  datasetList = 0 means that we want the system to create a new dataset for us (if we supply a number here, we attach these identifiers to a particular dataset that we own).  This assumes also that we have local identifiers, on separate lines in a textfile in the local directory called (testfile.txt).

curl -d  "title=This is a test&resourceTypesMinusDataset=3&suffixPassthrough=true&datasetList=0" --data-urlencode "data@testfile.txt" http://biscicol.org/bcid/rest/bcidService/creator --cookie cookies.txt