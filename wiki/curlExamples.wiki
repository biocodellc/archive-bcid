#curl Examples for use in calling BCID services

This page explains how to call BCID services using curl  --  For a list of BCID service call options see the [http://biscicol.org/bcid/rest/bcid.wadl Service Descriptions].

= Public Content =

Attempt a simple call to resolve an ARK (return HTML)

{{{
curl -L http://biscicol.org/id/ark:/21547/R2
}}}

Resolve an ARK, returning RDF/XML, for a group + suffix:
{{{
curl -L  -H "Accept: application/rdf+xml" http://biscicol.org/id/ark:/21547/R2MBIO56
}}}

= Secure Content =

First thing is to authenticate and set cookies.  Make sure to do this in a directory where you have write access:

{{{
curl --data "username=USER&password=PSWD" http://biscicol.org/id/authenticationService/login --location --cookie-jar cookies.txt
}}}

Then, call the service in question, for example, to list datasets associated with the account you authenticated as:
 
{{{
curl http://biscicol.org/id/projectService/list --cookie cookies.txt
}}}

If this is a new account without any datasets associated with it, if this request is successful, you will see the result:

{"0":"Create new group"}]

= Using the Creator =

The following is an example of how to create a new data group and register local IDs with BCID.    There are two main ways to create new data groups. The first way is to specify the resourceType in the request, such as:

{{{
curl -d  "title=This is a test&resourceType=dwc:MaterialSample&suffixPassThrough=true" http://biscicol.org/id/groupService --cookie cookies.txt
}}}

The second way is to first lookup one of the standard resourceTypes in a list, and then using an integer to call the service:

{{{
curl http://biscicol.org/id/elementService/select/resourceTypes
curl -d  "title=This is a test&resourceTypesMinusDataset=3&suffixPassThrough=true" http://biscicol.org/id/groupService --cookie cookies.txt
}}}